(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"+deO":function(e,t,n){var s=n("YeTp");"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(s,o);s.locals&&(e.exports=s.locals)},"19Qe":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"#mainContent {\n  flex: 1;\n  position: relative;\n  overflow: hidden;\n}\n#mainContent > section {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  -webkit-backface-visibility: hidden;\n          backface-visibility: hidden;\n}\n#mainContent > section .main-scroll-wrap {\n  padding: 24px 24px 48px;\n  overflow: auto;\n  flex: 1;\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n  place-content: start;\n}\nhtml.touchevents #mainContent > section .main-scroll-wrap {\n  overflow-y: scroll;\n  -webkit-overflow-scrolling: touch;\n}\n#mainContent h1.heading {\n  font-weight: 100;\n  font-size: 2.76rem;\n  padding: 1rem 1.8rem;\n  border-bottom: 1px solid #282828;\n  min-height: 96px;\n  position: relative;\n  align-items: center;\n  align-content: stretch;\n  display: flex;\n  line-height: normal;\n  background: rgba(0, 0, 0, 0.1);\n}\n#mainContent h1.heading span:first-child {\n  flex: 1;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n#mainContent h1.heading .meta {\n  display: block;\n  font-size: 0.9rem;\n  color: #a0a0a0;\n  margin: 6px 0 0 2px;\n}\n#mainContent h1.heading .meta a {\n  color: #fff;\n}\n#mainContent h1.heading .meta a:hover {\n  color: #ff7d2e;\n}\n#mainContent h1.heading .btn-group {\n  text-align: right;\n  z-index: 2;\n}\n@media only screen and (max-width: 768px) {\n#mainContent h1.heading {\n    font-size: 1.38rem;\n    min-height: 0;\n    line-height: 1.85rem;\n    text-align: center;\n    flex-direction: column;\n}\n#mainContent h1.heading .meta {\n    display: none;\n}\n#mainContent h1.heading .buttons {\n    justify-content: center;\n    margin-top: 8px;\n}\n#mainContent h1.heading span:first-child {\n    flex: 0 0 28px;\n}\n#mainContent > section .main-scroll-wrap {\n    padding: 12px;\n}\n}\n@media only screen and (max-width: 375px) {\n#mainContent > section .main-scroll-wrap {\n    padding-bottom: 64px;\n}\n}",""])},"5q4t":function(e,t,n){e.exports=function(e){function t(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,s){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}([function(e,t,n){(function(e){var n,s,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r,a){"object"==i(t)&&"object"==i(e)?e.exports=a():(s=[],void 0!==(o="function"==typeof(n=a)?n.apply(t,s):n)&&(e.exports=o))}(0,(function(){return function(e){function t(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,s){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";function s(e){if(null!==e&&"function"!=typeof e)throw new Error("observe-visibility directive expects a function as the value")}t.a={bind:function(e,t,n){var o=t.value;"undefined"==typeof IntersectionObserver?console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/WICG/IntersectionObserver/tree/gh-pages/polyfill"):function(){s(o),e._vue_visibilityCallback=o;var t=e._vue_intersectionObserver=new IntersectionObserver((function(t){var n=t[0];e._vue_visibilityCallback&&e._vue_visibilityCallback.call(null,n.intersectionRatio>0,n)}));n.context.$nextTick((function(){t.observe(e)}))}()},update:function(e,t){var n=t.value;s(n),e._vue_visibilityCallback=n},unbind:function(e){e._vue_intersectionObserver&&(e._vue_intersectionObserver.disconnect(),delete e._vue_intersectionObserver,delete e._vue_visibilityCallback)}}},function(e,t){var n,s="function"==typeof Symbol&&"symbol"==i(Symbol.iterator)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":i(e)};n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":s(window))&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){function s(e){e.directive("observe-visibility",o.a)}var o=n(0);Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ObserveVisibility",(function(){return o.a})),t.install=s;var i={version:"0.1.3",install:s};t.default=i;var r=null;"undefined"!=typeof window?r=window.Vue:void 0!==e&&(r=e.Vue),r&&r.use(i)}).call(t,n(1))}])}))}).call(t,n(2)(e))},function(e,t,n){(function(e){var n,s,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r,a){"object"==i(t)&&"object"==i(e)?e.exports=a():(s=[],void 0!==(o="function"==typeof(n=a)?n.apply(t,s):n)&&(e.exports=o))}(0,(function(){return function(e){function t(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,s){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t){var n,s="function"==typeof Symbol&&"symbol"==i(Symbol.iterator)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":i(e)};n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":s(window))&&(n=window)}e.exports=n},function(e,t,n){var s,o;n(3),s=n(2);var r=n(4);o=s=s||{},"object"!=i(s.default)&&"function"!=typeof s.default||(o=s=s.default),"function"==typeof o&&(o=o.options),o.render=r.render,o.staticRenderFns=r.staticRenderFns,o._scopeId="data-v-c7b3205a",e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"resize-observer",methods:{notify:function(){this.$emit("notify")},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.notify),this._w===this.$el.offsetWidth&&this._h===this.$el.offsetHeight||this.notify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.notify),delete this._resizeObject.onload)}},mounted:function(){var e=this;this.$nextTick((function(){e._w=e.$el.offsetWidth,e._h=e.$el.offsetHeight}));var t="Trident"===navigator.userAgent.match(/Trident/),n=document.createElement("object");this._resizeObject=n,n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),n.onload=this.addResizeHandlers,n.type="text/html",t&&this.$el.appendChild(n),n.data="about:blank",t||this.$el.appendChild(n)},beforeDestroy:function(){this.removeResizeHandlers()}}},function(e,t){},function(e,t){e.exports={render:function(){return(this.$createElement,this._c)("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})},staticRenderFns:[]}},function(e,t,n){"use strict";(function(e){function s(e){e.component("resize-observer",i.a)}var o=n(1),i=n.n(o);Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ResizeObserver",(function(){return i.a})),t.install=s;var r={version:"0.1.2",install:s};t.default=r;var a=null;"undefined"!=typeof window?a=window.Vue:void 0!==e&&(a=e.Vue),a&&a.use(r)}).call(t,n(0))}])}))}).call(t,n(2)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){n(9);var s=n(10)(n(4),n(11),"data-v-303cd025",null);e.exports=s.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),o=n(5);t.default={name:"virtual-scroller",components:{ResizeObserver:s.ResizeObserver},directives:{ObserveVisibility:o.ObserveVisibility},props:{items:{type:Array,required:!0},renderers:{default:null},itemHeight:{type:[Number,String],required:!0},typeField:{type:String,default:"type"},keyField:{type:String,default:"id"},mainTag:{type:String,default:"div"},containerTag:{type:String,default:"div"},containerClass:{default:null},contentTag:{type:String,default:"div"},contentClass:{default:null},pageMode:{type:Boolean,default:!1}},data:function(){return{visibleItems:[],itemContainerStyle:null,itemsStyle:null,keysEnabled:!0}},computed:{cssClass:function(){return{"page-mode":this.pageMode}}},watch:{items:function(){this.updateVisibleItems()},pageMode:function(){this.applyPageMode(),this.updateVisibleItems()}},methods:{getScroll:function(){var e=this.$el,t=void 0;if(this.pageMode){var n=e.getBoundingClientRect(),s=-n.top,o=window.innerHeight;s<0&&(o+=s,s=0),s+o>n.height&&(o=n.height-s),t={top:s,bottom:s+o}}else t={top:e.scrollTop,bottom:e.scrollTop+e.clientHeight};return t.bottom>=0&&t.top<=t.bottom?t:null},updateVisibleItems:function(){var e=this.items.length,t=this.getScroll();if(t){var n=Math.floor(t.top/this.itemHeight),s=Math.ceil(t.bottom/this.itemHeight);(n-=1)<0&&(n=0),(s+=2)>e&&(s=e),this.keysEnabled=!(n>this._endIndex||s<this._startIndex),this._startIndex=n,this._endIndex=s,this.visibleItems=this.items.slice(n,s),this.itemContainerStyle={height:e*this.itemHeight+"px"},this.itemsStyle={marginTop:n*this.itemHeight+"px"},this.$forceUpdate()}},scrollToItem:function(e){this.$el.scrollTop=e*this.itemHeight},handleVisibilityChange:function(e,t){var n=this;(e||0!==t.boundingClientRect.width||0!==t.boundingClientRect.height)&&this.$nextTick((function(){n.updateVisibleItems()}))},applyPageMode:function(){this.pageMode?this.addWindowScroll():this.removeWindowScroll()},addWindowScroll:function(){window.addEventListener("scroll",this.updateVisibleItems,!0)},removeWindowScroll:function(){window.removeEventListener("scroll",this.updateVisibleItems,!0)}},mounted:function(){this.updateVisibleItems(),this.applyPageMode()},beforeDestroy:function(){this.removeWindowScroll()}}},function(e,t,n){"use strict";var s=n(0);n.n(s),n.o(s,"ObserveVisibility")&&n.d(t,"ObserveVisibility",(function(){return s.ObserveVisibility}));var o=n(7);n.n(o)},function(e,t,n){"use strict";var s=n(1);n.n(s),n.o(s,"ResizeObserver")&&n.d(t,"ResizeObserver",(function(){return s.ResizeObserver}));var o=n(8);n.n(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports=function(e,t,n,s){var o,i=e=e||{},r=typeof e.default;"object"!==r&&"function"!==r||(o=e,i=e.default);var a="function"==typeof i?i.options:i;if(t&&(a.render=t.render,a.staticRenderFns=t.staticRenderFns),n&&(a._scopeId=n),s){var l=a.computed||(a.computed={});Object.keys(s).forEach((function(e){var t=s[e];l[e]=function(){return t}}))}return{esModule:o,exports:i,options:a}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.mainTag,{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:e.handleVisibilityChange,expression:"handleVisibilityChange"}],tag:"component",staticClass:"virtual-scroller",class:e.cssClass,on:{scroll:e.updateVisibleItems}},[e._t("before-container"),e._v(" "),n(e.containerTag,{tag:"component",staticClass:"item-container",class:e.containerClass,style:e.itemContainerStyle},[e._t("before-content"),e._v(" "),n(e.contentTag,{tag:"component",staticClass:"items",class:e.contentClass,style:e.itemsStyle},[e.renderers?e._l(e.visibleItems,(function(t,s){return n(e.renderers[t[e.typeField]],{key:e.keysEnabled&&t[e.keyField],tag:"component",staticClass:"item",attrs:{item:t,"item-index":e._startIndex+s}})})):[e._l(e.visibleItems,(function(t,n){return e._t("default",null,{item:t,itemIndex:e._startIndex+n,itemKey:e.keysEnabled&&t[e.keyField]})}))]],2),e._v(" "),e._t("after-content")],2),e._v(" "),e._t("after-container"),e._v(" "),n("resize-observer",{on:{notify:e.updateVisibleItems}})],2)},staticRenderFns:[]}},function(e,t,n){"use strict";function s(e){e.component("virtual-scroller",i.a)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n.n(o);t.install=s,n.d(t,"VirtualScroller",(function(){return r}));var r=i.a;t.default={version:"0.5.5",install:s}}])},"6Nnl":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"#homeWrapper .two-cols {\n  display: flex;\n}\n#homeWrapper .two-cols > section, #homeWrapper .two-cols > div {\n  flex-grow: 1;\n  flex-basis: 0;\n}\n#homeWrapper .two-cols > section:first-of-type, #homeWrapper .two-cols > div:first-of-type {\n  margin-right: 8px;\n}\n#homeWrapper .recent h1 button {\n  float: right;\n  padding: 6px 10px;\n  margin-top: -3px;\n}\n#homeWrapper .none {\n  color: #a0a0a0;\n  padding: 0;\n}\n#homeWrapper .none a {\n  color: #ff7d2e;\n}\n#homeWrapper .recently-added .song-item-home .details {\n  background: rgba(255, 255, 255, 0.02);\n}\n#homeWrapper .top-artists .wrapper, #homeWrapper .top-albums .wrapper, #homeWrapper .recently-added .wrapper {\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\n}\n#homeWrapper .top-artists .wrapper.as-list, #homeWrapper .top-albums .wrapper.as-list, #homeWrapper .recently-added .wrapper.as-list {\n  grid-gap: 8px;\n  align-content: start;\n}\n#homeWrapper .top-artists .wrapper.as-thumbnails .item, #homeWrapper .top-albums .wrapper.as-thumbnails .item, #homeWrapper .recently-added .wrapper.as-thumbnails .item {\n  max-width: 256px;\n}\n@media only screen and (max-width: 768px) {\n#homeWrapper .top-artists .wrapper.as-thumbnails .item, #homeWrapper .top-albums .wrapper.as-thumbnails .item, #homeWrapper .recently-added .wrapper.as-thumbnails .item {\n    max-width: 100%;\n}\n}\n#homeWrapper .main-scroll-wrap section {\n  margin-bottom: 48px;\n}\n#homeWrapper .main-scroll-wrap h1 {\n  font-size: 1.4rem;\n  margin: 0 0 1.8rem;\n  font-weight: 100;\n}\n@media only screen and (max-width: 768px) {\n#homeWrapper .two-cols {\n    display: block;\n}\n#homeWrapper .two-cols > section:first-of-type, #homeWrapper .two-cols > div:first-of-type {\n    margin-right: 0;\n}\n}",""])},"8nWh":function(e,t,n){"use strict";n.r(t);var s=n("JspL"),o=n("ilaN"),i=n("uhNi"),r=n("c8RX"),a=n("9EAu"),l=n("mF3K"),c=s.a.extend({components:{ToTopButton:()=>n.e(42).then(n.bind(null,"JMti"))},data:()=>({displayedItemCount:30,perPage:30}),methods:{scrolling({target:{scrollTop:e,clientHeight:t,scrollHeight:n}}){e+t>=n-32&&this.displayMore()},displayMore(){this.displayedItemCount+=this.perPage},makeScrollable(e,t){e.scrollHeight<=e.clientHeight&&this.displayedItemCount<t&&(this.displayMore(),window.setTimeout(()=>this.makeScrollable(e,t),200))}}}),d=n("2Bgu"),u=Object(l.a)(c).extend({components:{AlbumCard:()=>n.e(4).then(n.bind(null,"Z269")),ArtistCard:()=>n.e(5).then(n.bind(null,"lAVK")),SongItem:()=>n.e(37).then(n.bind(null,"IVyl")),Btn:()=>n.e(0).then(n.bind(null,"i0GK"))},data:()=>({greetings:["Oh hai!","Hey, %s!","Howdy, %s!","Yo!","How’s it going, %s?","Sup, %s?","How’s life, %s?","How’s your day, %s?","How have you been, %s?"],recentSongs:[],top:{songs:[],albums:[],artists:[]},recentlyAdded:{albums:[],songs:[]},preferences:r.f.state}),computed:{greeting(){return Object(a.sample)(this.greetings).replace("%s",r.l.current.name)},showRecentlyAddedSection(){return Boolean(this.recentlyAdded.albums.length||this.recentlyAdded.songs.length)}},methods:{refreshDashboard(){this.top.songs=r.k.getMostPlayed(7),this.top.albums=r.a.getMostPlayed(6),this.top.artists=r.b.getMostPlayed(6),this.recentlyAdded.albums=r.a.getRecentlyAdded(6),this.recentlyAdded.songs=r.k.getRecentlyAdded(10),this.recentSongs=r.h.excerptState.songs},goToRecentlyPlayedScreen:()=>d.a.go("recently-played")},created(){o.f.on({[i.b.KOEL_READY]:()=>this.refreshDashboard(),[i.b.SONG_PLAYED]:()=>this.refreshDashboard(),[i.b.SONG_UPLOADED]:()=>this.refreshDashboard()})}}),p=(n("ipEo"),n("KHd+")),h=Object(p.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{attrs:{id:"homeWrapper"}},[n("h1",{staticClass:"heading"},[n("span",[e._v(e._s(e.greeting))])]),e._v(" "),n("div",{ref:"wrapper",staticClass:"main-scroll-wrap",on:{scroll:e.scrolling}},[n("div",{staticClass:"two-cols"},[n("section",{directives:[{name:"show",rawName:"v-show",value:e.top.songs.length,expression:"top.songs.length"}]},[n("h1",[e._v("Most Played")]),e._v(" "),n("ol",{staticClass:"top-song-list"},e._l(e.top.songs,(function(t){return n("song-item",{key:t.id,tag:"li",attrs:{"top-play-count":e.top.songs.length?e.top.songs[0].playCount:0,song:t}})})),1)]),e._v(" "),n("section",{staticClass:"recent"},[n("h1",[e._v("Recently Played\n          "),n("btn",{attrs:{rounded:"",small:"",orange:""},on:{click:function(t){return t.preventDefault(),e.goToRecentlyPlayedScreen(t)}}},[e._v("View All")])],1),e._v(" "),n("ol",{directives:[{name:"show",rawName:"v-show",value:e.recentSongs.length,expression:"recentSongs.length"}],staticClass:"recent-song-list"},e._l(e.recentSongs,(function(t){return n("song-item",{key:t.id,tag:"li",attrs:{"top-play-count":e.top.songs.length?e.top.songs[0].playCount:0,song:t}})})),1),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:!e.recentSongs.length,expression:"!recentSongs.length"}],staticClass:"none"},[e._v("\n          Your recently played songs will be displayed here."),n("br"),e._v("\n          Start listening!\n        ")])])]),e._v(" "),n("section",{directives:[{name:"show",rawName:"v-show",value:e.showRecentlyAddedSection,expression:"showRecentlyAddedSection"}],staticClass:"recently-added"},[n("h1",[e._v("Recently Added")]),e._v(" "),n("div",{staticClass:"two-cols"},[n("div",{staticClass:"wrapper as-list"},e._l(e.recentlyAdded.albums,(function(e){return n("album-card",{key:e.id,attrs:{album:e}})})),1),e._v(" "),n("div",[n("ul",{directives:[{name:"show",rawName:"v-show",value:e.recentlyAdded.songs.length,expression:"recentlyAdded.songs.length"}],staticClass:"recently-added-song-list"},e._l(e.recentlyAdded.songs,(function(e){return n("song-item",{key:e.id,tag:"li",attrs:{song:e}})})),1)])])]),e._v(" "),n("section",{directives:[{name:"show",rawName:"v-show",value:e.top.artists.length,expression:"top.artists.length"}],staticClass:"top-artists"},[n("h1",[e._v("Top Artists")]),e._v(" "),n("div",{staticClass:"wrapper",class:"as-"+e.preferences.artistsViewMode},e._l(e.top.artists,(function(e){return n("artist-card",{key:e.id,attrs:{artist:e}})})),1)]),e._v(" "),n("section",{directives:[{name:"show",rawName:"v-show",value:e.top.albums.length,expression:"top.albums.length"}],staticClass:"top-albums"},[n("h1",[e._v("Top Albums")]),e._v(" "),n("div",{staticClass:"wrapper",class:"as-"+e.preferences.albumsViewMode},e._l(e.top.albums,(function(e){return n("album-card",{key:e.id,attrs:{album:e}})})),1)]),e._v(" "),n("to-top-button")],1)])}),[],!1,null,null,null).exports,g=n("OUsP"),m=n("f4RB"),f=Object(l.a)(m.a).extend({filters:{pluralize:o.v},data:()=>({state:r.g.state,songListControlConfig:{clearQueue:!0}}),computed:{shouldShowShufflingAllLink:()=>r.k.all.length>0},methods:{getSongsToPlay(){return this.state.songs.length?this.$refs.songList.getAllSongsWithSort():r.k.all},shuffleAll:()=>g.g.queueAndPlay(r.k.all,!0),clearQueue:()=>r.g.clear()}}),v=(n("T6vl"),Object(p.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{attrs:{id:"queueWrapper"}},[n("h1",{staticClass:"heading"},[n("span",{attrs:{title:"That's a lot of U's and E's"}},[e._v("Current Queue\n      "),n("controls-toggler",{attrs:{"showing-controls":e.showingControls},on:{toggleControls:e.toggleControls}}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.meta.songCount,expression:"meta.songCount"}],staticClass:"meta"},[e._v("\n        "+e._s(e._f("pluralize")(e.meta.songCount,"song"))+"\n        •\n        "+e._s(e.meta.totalLength)+"\n      ")])],1),e._v(" "),n("song-list-controls",{directives:[{name:"show",rawName:"v-show",value:e.state.songs.length&&(!e.isPhone||e.showingControls),expression:"state.songs.length && (!isPhone || showingControls)"}],attrs:{songs:e.state.songs,config:e.songListControlConfig,selectedSongs:e.selectedSongs},on:{playAll:e.playAll,playSelected:e.playSelected,clearQueue:e.clearQueue}})],1),e._v(" "),n("song-list",{directives:[{name:"show",rawName:"v-show",value:e.state.songs.length,expression:"state.songs.length"}],ref:"songList",attrs:{items:e.state.songs,type:"queue"}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.state.songs.length,expression:"!state.songs.length"}],staticClass:"none"},[n("p",[e._v("Empty spaces. Abandoned places.")]),e._v(" "),e.shouldShowShufflingAllLink?n("p",[e._v("How about\n      "),n("a",{staticClass:"start",on:{click:function(t){return t.preventDefault(),e.shuffleAll(t)}}},[e._v("shuffling all songs")]),e._v("?\n    ")]):e._e()])],1)}),[],!1,null,null,null).exports),y=Object(l.a)(c).extend({components:{AlbumCard:()=>n.e(4).then(n.bind(null,"Z269")),ViewModeSwitch:()=>n.e(11).then(n.bind(null,"+S3t"))},data:()=>({perPage:9,displayedItemCount:9,q:"",viewMode:"",albums:[]}),computed:{displayedItems(){return Object(o.q)(this.filteredItems,this.displayedItemCount)},filteredItems(){return Object(o.h)(this.albums,this.q,"name","artist.name")}},watch:{viewMode(){r.f.albumsViewMode=this.viewMode}},created(){o.f.on({[i.b.KOEL_READY]:()=>{this.albums=r.a.all,this.viewMode=r.f.albumsViewMode||"thumbnails"},[i.b.LOAD_MAIN_CONTENT]:e=>{"Albums"===e&&this.$nextTick(()=>this.makeScrollable(this.$refs.scroller,this.albums.length))},[i.b.FILTER_CHANGED]:e=>{this.q=e}})}}),w=(n("WHeC"),Object(p.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{attrs:{id:"albumsWrapper"}},[n("h1",{staticClass:"heading"},[n("span",[e._v("Albums")]),e._v(" "),n("view-mode-switch",{model:{value:e.viewMode,callback:function(t){e.viewMode=t},expression:"viewMode"}})],1),e._v(" "),n("div",{ref:"scroller",staticClass:"albums main-scroll-wrap",class:"as-"+e.viewMode,on:{scroll:e.scrolling}},[e._l(e.displayedItems,(function(e){return n("album-card",{key:e.id,attrs:{album:e}})})),e._v(" "),n("to-top-button")],2)])}),[],!1,null,null,null).exports),b=Object(l.a)(c).extend({components:{ArtistCard:()=>n.e(5).then(n.bind(null,"lAVK")),ViewModeSwitch:()=>n.e(11).then(n.bind(null,"+S3t"))},data:()=>({perPage:9,displayedItemCount:9,q:"",viewMode:"",artists:[]}),computed:{displayedItems(){return Object(o.q)(this.filteredItems,this.displayedItemCount)},filteredItems(){return Object(o.h)(this.artists,this.q,"name")}},watch:{viewMode(){r.f.artistsViewMode=this.viewMode}},created(){o.f.on({[i.b.KOEL_READY]:()=>{this.artists=r.b.all,this.viewMode=r.f.artistsViewMode||"thumbnails"},[i.b.LOAD_MAIN_CONTENT]:e=>{"Artists"===e&&this.$nextTick(()=>this.makeScrollable(this.$refs.scroller,this.artists.length))},[i.b.FILTER_CHANGED]:e=>{this.q=e}})}}),_=(n("hn+m"),Object(p.a)(b,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{attrs:{id:"artistsWrapper"}},[n("h1",{staticClass:"heading"},[n("span",[e._v("Artists")]),e._v(" "),n("view-mode-switch",{model:{value:e.viewMode,callback:function(t){e.viewMode=t},expression:"viewMode"}})],1),e._v(" "),n("div",{ref:"scroller",staticClass:"artists main-scroll-wrap",class:"as-"+e.viewMode,on:{scroll:e.scrolling}},[e._l(e.displayedItems,(function(e){return n("artist-card",{key:e.id,attrs:{artist:e}})})),e._v(" "),n("to-top-button")],2)])}),[],!1,null,null,null).exports),x=Object(l.a)(m.a).extend({filters:{pluralize:o.v},data:()=>({state:r.k.state}),methods:{getSongsToPlay(){return this.$refs.songList.getAllSongsWithSort()}}}),C=Object(p.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{attrs:{id:"songsWrapper"}},[n("h1",{staticClass:"heading"},[n("span",[e._v("All Songs\n      "),n("controls-toggler",{attrs:{"showing-controls":e.showingControls},on:{toggleControls:e.toggleControls}}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.meta.songCount,expression:"meta.songCount"}],staticClass:"meta"},[e._v("\n        "+e._s(e._f("pluralize")(e.meta.songCount,"song"))+"\n        •\n        "+e._s(e.meta.totalLength)+"\n      ")])],1),e._v(" "),n("song-list-controls",{directives:[{name:"show",rawName:"v-show",value:e.state.songs.length&&(!e.isPhone||e.showingControls),expression:"state.songs.length && (!isPhone || showingControls)"}],attrs:{songs:e.state.songs,config:e.songListControlConfig,selectedSongs:e.selectedSongs},on:{playAll:e.playAll,playSelected:e.playSelected}})],1),e._v(" "),n("song-list",{ref:"songList",attrs:{items:e.state.songs,type:"all-songs"}})],1)}),[],!1,null,null,null).exports,S=function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))},A=Object(l.a)(m.a).extend({filters:{pluralize:o.v},data:()=>({playlist:r.e.stub,sharedState:r.j.state,songListControlConfig:{deletePlaylist:!0}}),created(){o.f.on(i.b.LOAD_MAIN_CONTENT,(e,t)=>{"Playlist"===e&&(t.populated?this.playlist=t:this.populate(t))})},methods:{getSongsToPlay(){return this.$refs.songList.getAllSongsWithSort()},destroy(){o.f.emit(i.b.PLAYLIST_DELETE,this.playlist)},download(){return g.d.fromPlaylist(this.playlist)},populate(e){return S(this,void 0,void 0,(function*(){yield r.e.fetchSongs(e),this.playlist=e,this.$nextTick(()=>this.$refs.songList&&this.$refs.songList.sort())}))}}}),k=(n("T6ka"),Object(p.a)(A,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{attrs:{id:"playlistWrapper"}},[e.playlist.populated?[n("h1",{staticClass:"heading"},[n("span",[e._v(e._s(e.playlist.name)+"\n        "),n("controls-toggler",{attrs:{"showing-controls":e.showingControls},on:{toggleControls:e.toggleControls}}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.meta.songCount,expression:"meta.songCount"}],staticClass:"meta"},[e._v("\n          "+e._s(e._f("pluralize")(e.meta.songCount,"song"))+"\n          •\n          "+e._s(e.meta.totalLength)+"\n          "),e.sharedState.allowDownload&&e.playlist.songs.length?[e._v("\n            •\n            "),n("a",{attrs:{href:"",title:"Download all songs in playlist",role:"button"},on:{click:function(t){return t.preventDefault(),e.download(t)}}},[e._v("\n              Download All\n            ")])]:e._e()],2)],1),e._v(" "),n("song-list-controls",{directives:[{name:"show",rawName:"v-show",value:!e.isPhone||e.showingControls,expression:"!isPhone || showingControls"}],attrs:{songs:e.playlist.songs,config:e.songListControlConfig,selectedSongs:e.selectedSongs},on:{playAll:e.playAll,playSelected:e.playSelected,deletePlaylist:e.destroy}})],1),e._v(" "),n("song-list",{directives:[{name:"show",rawName:"v-show",value:e.playlist.songs.length,expression:"playlist.songs.length"}],ref:"songList",attrs:{items:e.playlist.songs,playlist:e.playlist,type:"playlist"}}),e._v(" "),e.playlist.songs.length?e._e():n("div",{staticClass:"none"},[e._v('\n      The playlist is currently empty. You can fill it up by dragging songs into its name in the sidebar,\n      or use the "Add To…" button.\n    ')])]:e._e()],2)}),[],!1,null,null,null).exports),O=Object(l.a)(m.a).extend({filters:{pluralize:o.v},data:()=>({state:r.d.state,sharedState:r.j.state}),methods:{getSongsToPlay(){return this.$refs.songList.getAllSongsWithSort()},download:()=>g.d.fromFavorites()}}),E=(n("L+e/"),Object(p.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{attrs:{id:"favoritesWrapper"}},[n("h1",{staticClass:"heading"},[n("span",[e._v("Songs You Love\n      "),n("controls-toggler",{attrs:{"showing-controls":e.showingControls},on:{toggleControls:e.toggleControls}}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.meta.songCount,expression:"meta.songCount"}],staticClass:"meta"},[e._v("\n        "+e._s(e._f("pluralize")(e.meta.songCount,"song"))+"\n        •\n        "+e._s(e.meta.totalLength)+"\n        "),e.sharedState.allowDownload&&e.state.songs.length?[e._v("\n          •\n          "),n("a",{staticClass:"download",attrs:{href:"",title:"Download all songs in playlist",role:"button"},on:{click:function(t){return t.preventDefault(),e.download(t)}}},[e._v("\n            Download All\n          ")])]:e._e()],2)],1),e._v(" "),n("song-list-controls",{directives:[{name:"show",rawName:"v-show",value:e.state.songs.length&&(!e.isPhone||e.showingControls),expression:"state.songs.length && (!isPhone || showingControls)"}],attrs:{songs:e.state.songs,config:e.songListControlConfig,selectedSongs:e.selectedSongs},on:{playAll:e.playAll,playSelected:e.playSelected}})],1),e._v(" "),n("song-list",{directives:[{name:"show",rawName:"v-show",value:e.state.songs.length,expression:"state.songs.length"}],ref:"songList",attrs:{items:e.state.songs,type:"favorites"}}),e._v(" "),e.state.songs.length?e._e():n("div",{staticClass:"none"},[e._v("\n    Start loving!\n    Click the "),n("i",{staticClass:"fa fa-heart",staticStyle:{margin:"0 5px"}}),e._v(" icon when a song is playing to add it\n    to this list.\n  ")])],1)}),[],!1,null,null,null).exports),T=s.a.extend({components:{HomeScreen:h,QueueScreen:v,AllSongsScreen:C,AlbumListScreen:w,ArtistListScreen:_,PlaylistScreen:k,FavoritesScreen:E,RecentlyPlayedScreen:()=>n.e(33).then(n.bind(null,"9AbS")),UserListScreen:()=>n.e(35).then(n.bind(null,"1ite")),AlbumArtOverlay:()=>n.e(12).then(n.bind(null,"vHpL")),AlbumScreen:()=>n.e(20).then(n.bind(null,"fnsJ")),ArtistScreen:()=>n.e(21).then(n.bind(null,"b0HR")),SettingsScreen:()=>n.e(34).then(n.bind(null,"xzKh")),ProfileScreen:()=>n.e(32).then(n.bind(null,"Kgac")),YoutubeScreen:()=>n.e(17).then(n.bind(null,"GKtT")),UploadScreen:()=>n.e(16).then(n.bind(null,"keS9")),Visualizer:()=>n.e(24).then(n.bind(null,"WU5I"))},data:()=>({currentAlbum:r.a.stub,preferences:r.f.state,sharedState:r.j.state,showingVisualizer:!1,shownArtist:r.b.stub,shownAlbum:r.a.stub,view:"Home"}),created(){o.f.on({[i.b.LOAD_MAIN_CONTENT]:(e,t)=>{switch(e){case"Album":this.shownAlbum=t;break;case"Artist":this.shownArtist=t}this.view=e},[i.b.SONG_PLAYED]:e=>{this.currentAlbum=e.album},[i.b.TOGGLE_VISUALIZER]:()=>{this.showingVisualizer=!this.showingVisualizer}})}}),P=(n("Zfml"),Object(p.a)(T,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{attrs:{id:"mainContent"}},[e.showingVisualizer?n("visualizer"):e._e(),e._v(" "),e.preferences.showAlbumArtOverlay?n("album-art-overlay",{attrs:{album:e.currentAlbum}}):e._e(),e._v(" "),n("home-screen",{directives:[{name:"show",rawName:"v-show",value:"Home"===e.view,expression:"view === 'Home'"}]}),e._v(" "),n("queue-screen",{directives:[{name:"show",rawName:"v-show",value:"Queue"===e.view,expression:"view === 'Queue'"}]}),e._v(" "),n("all-songs-screen",{directives:[{name:"show",rawName:"v-show",value:"Songs"===e.view,expression:"view === 'Songs'"}]}),e._v(" "),n("album-list-screen",{directives:[{name:"show",rawName:"v-show",value:"Albums"===e.view,expression:"view === 'Albums'"}]}),e._v(" "),n("artist-list-screen",{directives:[{name:"show",rawName:"v-show",value:"Artists"===e.view,expression:"view === 'Artists'"}]}),e._v(" "),n("playlist-screen",{directives:[{name:"show",rawName:"v-show",value:"Playlist"===e.view,expression:"view === 'Playlist'"}]}),e._v(" "),n("favorites-screen",{directives:[{name:"show",rawName:"v-show",value:"Favorites"===e.view,expression:"view === 'Favorites'"}]}),e._v(" "),n("recently-played-screen",{directives:[{name:"show",rawName:"v-show",value:"RecentlyPlayed"===e.view,expression:"view === 'RecentlyPlayed'"}]}),e._v(" "),n("upload-screen",{directives:[{name:"show",rawName:"v-show",value:"Upload"===e.view,expression:"view === 'Upload'"}]}),e._v(" "),"Album"===e.view?n("album-screen",{attrs:{album:e.shownAlbum}}):e._e(),e._v(" "),"Artist"===e.view?n("artist-screen",{attrs:{artist:e.shownArtist}}):e._e(),e._v(" "),"Settings"===e.view?n("settings-screen"):e._e(),e._v(" "),"Profile"===e.view?n("profile-screen"):e._e(),e._v(" "),"Users"===e.view?n("user-list-screen"):e._e(),e._v(" "),e.sharedState.useYouTube?n("youtube-screen",{directives:[{name:"show",rawName:"v-show",value:"YouTube"===e.view,expression:"view === 'YouTube'"}]}):e._e()],1)}),[],!1,null,null,null));t.default=P.exports},BGT2:function(e,t,n){var s=n("6Nnl");"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(s,o);s.locals&&(e.exports=s.locals)},Cb4R:function(e,t,n){var s=n("tVMj");"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(s,o);s.locals&&(e.exports=s.locals)},GOQY:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"#playlistWrapper button.play-shuffle i, #playlistWrapper button.del i {\n  margin-right: 0 !important;\n}\n#playlistWrapper .none {\n  color: #a0a0a0;\n  padding: 16px 24px;\n}\n#playlistWrapper .none a {\n  color: #ff7d2e;\n}",""])},IX5K:function(e,t,n){var s=n("nJEG");"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(s,o);s.locals&&(e.exports=s.locals)},JG2k:function(e,t,n){var s=n("GOQY");"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(s,o);s.locals&&(e.exports=s.locals)},JYgK:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,".song-list-controls[data-v-a104e1bc] {\n  position: relative;\n  min-width: 196px;\n}\n@media only screen and (max-width: 768px) {\n.song-list-controls[data-v-a104e1bc] {\n    min-width: 0;\n}\n}",""])},"L+e/":function(e,t,n){"use strict";var s=n("IX5K");n.n(s).a},NXhY:function(e,t,n){"use strict";var s=n("+deO");n.n(s).a},OnMI:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"#queueWrapper .none {\n  color: #a0a0a0;\n  padding: 16px 24px;\n}\n#queueWrapper .none a {\n  color: #ff7d2e;\n}\n#queueWrapper button.play-shuffle i {\n  margin-right: 0 !important;\n}",""])},Rs3m:function(e,t,n){"use strict";var s=n("Cb4R");n.n(s).a},T6ka:function(e,t,n){"use strict";var s=n("JG2k");n.n(s).a},T6vl:function(e,t,n){"use strict";var s=n("Ua+U");n.n(s).a},"Ua+U":function(e,t,n){var s=n("OnMI");"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(s,o);s.locals&&(e.exports=s.locals)},WHeC:function(e,t,n){"use strict";var s=n("vkUh");n.n(s).a},YeTp:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,".song-list-wrap {\n  position: relative;\n  padding: 8px 24px;\n}\n.song-list-wrap .song-list-header {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  background: #1b1b1b;\n  z-index: 1;\n  width: 100%;\n}\n.song-list-wrap table {\n  width: 100%;\n  table-layout: fixed;\n}\n.song-list-wrap tr.droppable {\n  border-bottom-width: 3px;\n  border-bottom-color: #56a052;\n}\n.song-list-wrap td,\n.song-list-wrap th {\n  text-align: left;\n  padding: 8px;\n  vertical-align: middle;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n.song-list-wrap td.time,\n.song-list-wrap th.time {\n  width: 96px;\n  padding-right: 24px;\n  text-align: right;\n}\n.song-list-wrap td.track-number,\n.song-list-wrap th.track-number {\n  width: 66px;\n  padding-left: 24px;\n}\n.song-list-wrap td.artist,\n.song-list-wrap th.artist {\n  width: 23%;\n}\n.song-list-wrap td.album,\n.song-list-wrap th.album {\n  width: 27%;\n}\n.song-list-wrap td.play,\n.song-list-wrap th.play {\n  display: none;\n}\nhtml.touchevents .song-list-wrap td.play,\nhtml.touchevents .song-list-wrap th.play {\n  display: block;\n  position: absolute;\n  top: 8px;\n  right: 4px;\n}\n.song-list-wrap th {\n  color: #a0a0a0;\n  letter-spacing: 1px;\n  text-transform: uppercase;\n  cursor: pointer;\n}\n.song-list-wrap th i {\n  color: #ff7d2e;\n  font-size: 1.2rem;\n}\n.song-list-wrap .unsortable th {\n  cursor: default;\n}\n.song-list-wrap .scroller {\n  overflow: auto;\n  position: absolute;\n  top: 35px;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  overflow-y: scroll;\n  -webkit-overflow-scrolling: touch;\n}\n.song-list-wrap .scroller .item-container {\n  position: absolute;\n  left: 0;\n  right: 0;\n}\n.song-list-wrap .scroller .item {\n  margin-bottom: 0;\n}\n@media only screen and (max-width: 768px) {\n.song-list-wrap table,\n.song-list-wrap tbody,\n.song-list-wrap tr {\n    display: block;\n}\n.song-list-wrap thead,\n.song-list-wrap tfoot {\n    display: none;\n}\n.song-list-wrap .scroller {\n    top: 0;\n    bottom: 24px;\n}\n.song-list-wrap .scroller .item-container {\n    left: 12px;\n    right: 12px;\n}\n.song-list-wrap tr {\n    padding: 8px 32px 8px 4px;\n    position: relative;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    color: #a0a0a0;\n    width: 100%;\n}\n.song-list-wrap td {\n    display: inline;\n    padding: 0;\n    vertical-align: bottom;\n    color: #fff;\n}\n.song-list-wrap td.album, .song-list-wrap td.time, .song-list-wrap td.track-number {\n    display: none;\n}\n.song-list-wrap td.artist {\n    color: #a0a0a0;\n    font-size: 0.9rem;\n    padding: 0 4px;\n}\n}",""])},ZcGz:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"#artistsWrapper .artists {\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\n}\n#artistsWrapper .artists.as-list {\n  grid-gap: 8px;\n  align-content: start;\n}\n#artistsWrapper .artists.as-thumbnails .item {\n  max-width: 256px;\n}\n@media only screen and (max-width: 768px) {\n#artistsWrapper .artists.as-thumbnails .item {\n    max-width: 100%;\n}\n}",""])},Zfml:function(e,t,n){"use strict";var s=n("wgL7");n.n(s).a},aOJJ:function(e,t,n){"use strict";var s=n("yiWW");n.n(s).a},f4RB:function(e,t,n){"use strict";var s=n("JspL"),o=n("+IMN"),i=n.n(o),r=n("OUsP"),a=n("ilaN"),l=n("uhNi"),c=n("5q4t"),d=n("c8RX"),u=n("2Bgu");const p=()=>n.e(23).then(n.bind(null,"+dfh")),h=["all-songs","queue","playlist","favorites","recently-played","artist","album"];var g=s.a.extend({name:"song-list",props:{items:{type:Array,required:!0},type:{type:String,default:"all-songs",validator:e=>h.includes(e)},sortable:{type:Boolean,default:!0},playlist:{type:Object}},components:{VirtualScroller:c.VirtualScroller},data:()=>({renderers:Object.freeze({song:p}),lastSelectedRow:null,q:"",sortKey:"",order:-1,sortingByAlbum:!1,sortingByArtist:!1,songProxies:[]}),watch:{items(){this.render()},selectedSongs(e){a.f.emit(l.b.SET_SELECTED_SONGS,e,this.$parent)}},computed:{filteredItems(){const{keywords:e,fields:t}=this.extractSearchDataFromQuery(this.q);return e?Object(a.h)(this.songProxies,e,...t):this.songProxies},allowSongReordering(){return"queue"===this.type},selectedSongs(){return this.filteredItems.filter(e=>e.selected).map(e=>e.song)}},methods:{render(){!1===this.sortable&&(this.sortKey=""),a.f.emit(l.b.UPDATE_META,{songCount:this.items.length,totalLength:d.k.getFormattedLength(this.items)},this.$parent),this.generateSongRows()},generateSongRows(){const e=this.selectedSongs.map(e=>e.id);this.songProxies=this.items.map(t=>({song:t,selected:e.includes(t.id),type:"song"}))},sort(e=""){!1!==this.sortable&&(e&&(this.sortKey=e,this.order*=-1),"album"===this.type&&(this.sortKey=this.sortKey?this.sortKey:["song.track"],this.sortKey=[].concat(this.sortKey),this.sortKey.includes("song.disc")||this.sortKey.push("song.disc")),this.sortingByAlbum="song.album.name"===this.sortKey[0],this.sortingByArtist="song.album.artist.name"===this.sortKey[0],this.songProxies=Object(a.t)(this.songProxies,this.sortKey,this.order))},handleDelete(){if(this.selectedSongs.length){switch(this.type){case"queue":d.g.unqueue(this.selectedSongs);break;case"favorites":d.d.unlike(this.selectedSongs);break;case"playlist":d.e.removeSongs(this.playlist,this.selectedSongs)}this.clearSelection()}},handleEnter(e){if(this.selectedSongs.length)if(1!==this.selectedSongs.length)switch(this.type){case"queue":r.g.play(this.selectedSongs[0]);break;default:e.shiftKey?d.g.queueToTop(this.selectedSongs):d.g.queue(this.selectedSongs),(e.ctrlKey||e.metaKey)&&r.g.play(this.selectedSongs[0]),u.a.go("queue")}else r.g.play(this.selectedSongs[0])},handleA(e){(e.metaKey||e.ctrlKey)&&this.selectAllRows()},selectAllRows(){this.filteredItems.forEach(e=>e.selected=!0)},rowClicked(e,t){i.a.any?this.toggleRow(e):((t.ctrlKey||t.metaKey)&&this.toggleRow(e),0===t.button&&(t.ctrlKey||t.metaKey||t.shiftKey||(this.clearSelection(),this.toggleRow(e)),t.shiftKey&&this.lastSelectedRow&&this.selectRowsBetween(this.lastSelectedRow,e)))},toggleRow(e){e.item.selected=!e.item.selected,this.lastSelectedRow=e},selectRowsBetween(e,t){const n=[this.filteredItems.indexOf(e.item),this.filteredItems.indexOf(t.item)];n.sort((e,t)=>e-t);for(let e=n[0];e<=n[1];++e)this.filteredItems[e].selected=!0},clearSelection(){this.filteredItems.forEach(e=>{e.selected=!1})},dragStart(e,t){e.item.selected||(this.clearSelection(),e.item.selected=!0),Object(a.y)(t,this.selectedSongs,"Song")},allowDrop(e){if(this.allowSongReordering)return a.a.addClass(e.target.parentElement,"droppable"),e.dataTransfer.dropEffect="move",!1},handleDrop(e,t){return this.allowSongReordering&&t.dataTransfer.getData("application/x-koel.text+plain")&&this.selectedSongs.length?(d.g.move(this.selectedSongs,e.item.song),this.removeDroppableState(t)):this.removeDroppableState(t)},removeDroppableState:e=>(a.a.removeClass(e.target.parentElement,"droppable"),!1),openContextMenu(e,t){e.item.selected||(this.clearSelection(),this.toggleRow(e)),this.$nextTick(()=>{a.f.emit(l.b.CONTEXT_MENU_REQUESTED,t,this.selectedSongs)})},extractSearchDataFromQuery:e=>{const t=/in:(title|album|artist)/gi,n=[],s=e.match(t);let o=e;return s&&(o=e.replace(t,"").trim(),o&&s.forEach(e=>{const t=e.split(":")[1].toLowerCase();n.push("title"===t?"song."+t:`song.${t}.name`)})),{keywords:o,fields:n.length?n:["song.title","song.album.name","song.artist.name"]}},getAllSongsWithSort(){return this.songProxies.map(e=>e.song)}},mounted(){this.items&&this.render()},created(){a.f.on({[l.b.FILTER_CHANGED]:e=>{this.q=e}})}}),m=(n("NXhY"),n("KHd+")),f=Object(m.a)(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"wrapper",staticClass:"song-list-wrap main-scroll-wrap",class:e.type,attrs:{tabindex:"0"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:(t.preventDefault(),t.stopPropagation(),e.handleDelete(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.stopPropagation(),e.handleEnter(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"a",void 0,t.key,void 0)?null:(t.preventDefault(),e.handleA(t))}]}},[n("table",{staticClass:"song-list-header",class:e.sortable?"sortable":"unsortable"},[n("thead",[n("tr",[n("th",{staticClass:"track-number",on:{click:function(t){return e.sort("song.track")}}},[e._v("\n          #\n          "),n("i",{directives:[{name:"show",rawName:"v-show",value:"song.track"===e.sortKey&&e.order>0,expression:"sortKey === 'song.track' && order > 0"}],staticClass:"fa fa-angle-down"}),e._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:"song.track"===e.sortKey&&e.order<0,expression:"sortKey === 'song.track' && order < 0"}],staticClass:"fa fa-angle-up"})]),e._v(" "),n("th",{staticClass:"title",on:{click:function(t){return e.sort("song.title")}}},[e._v("\n          Title\n          "),n("i",{directives:[{name:"show",rawName:"v-show",value:"song.title"===e.sortKey&&e.order>0,expression:"sortKey === 'song.title' && order > 0"}],staticClass:"fa fa-angle-down"}),e._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:"song.title"===e.sortKey&&e.order<0,expression:"sortKey === 'song.title' && order < 0"}],staticClass:"fa fa-angle-up"})]),e._v(" "),n("th",{staticClass:"artist",on:{click:function(t){return e.sort(["song.album.artist.name","song.album.name","song.track"])}}},[e._v("\n          Artist\n          "),n("i",{directives:[{name:"show",rawName:"v-show",value:e.sortingByArtist&&e.order>0,expression:"sortingByArtist && order > 0"}],staticClass:"fa fa-angle-down"}),e._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:e.sortingByArtist&&e.order<0,expression:"sortingByArtist && order < 0"}],staticClass:"fa fa-angle-up"})]),e._v(" "),n("th",{staticClass:"album",on:{click:function(t){return e.sort(["song.album.name","song.track"])}}},[e._v("\n          Album\n          "),n("i",{directives:[{name:"show",rawName:"v-show",value:e.sortingByAlbum&&e.order>0,expression:"sortingByAlbum && order > 0"}],staticClass:"fa fa-angle-down"}),e._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:e.sortingByAlbum&&e.order<0,expression:"sortingByAlbum && order < 0"}],staticClass:"fa fa-angle-up"})]),e._v(" "),n("th",{staticClass:"time",on:{click:function(t){return e.sort("song.length")}}},[e._v("\n          Time\n          "),n("i",{directives:[{name:"show",rawName:"v-show",value:"song.length"===e.sortKey&&e.order>0,expression:"sortKey === 'song.length' && order > 0"}],staticClass:"fa fa-angle-down"}),e._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:"song.length"===e.sortKey&&e.order<0,expression:"sortKey === 'song.length' && order < 0"}],staticClass:"fa fa-angle-up"})]),e._v(" "),n("th",{staticClass:"play"})])])]),e._v(" "),n("virtual-scroller",{staticClass:"scroller",attrs:{"content-tag":"table",items:e.filteredItems,"item-height":"35",renderers:e.renderers,"key-field":"song.id"}})],1)}),[],!1,null,null,null).exports;var v=s.a.extend({props:{config:Object,songs:{type:Array,default:()=>[]},selectedSongs:{type:Array,default:()=>[]}},components:{AddToMenu:()=>n.e(22).then(n.bind(null,"yoyx")),Btn:()=>n.e(0).then(n.bind(null,"i0GK")),BtnGroup:()=>n.e(10).then(n.bind(null,"qEoy"))},data:()=>({fullConfig:{play:!0,addTo:{queue:!0,favorites:!0,playlists:!0,newPlaylist:!0},clearQueue:!1,deletePlaylist:!1},showingAddToMenu:!1,numberOfQueuedSongs:0,altPressed:!1}),computed:{showClearQueueButton(){return this.fullConfig.clearQueue},showDeletePlaylistButton(){return this.fullConfig.deletePlaylist}},created(){this.fullConfig=Object.assign(this.fullConfig,this.config)},methods:{shuffle(){this.$emit("playAll",!0)},shuffleSelected(){this.$emit("playSelected",!0)},playAll(){this.$emit("playAll",!1)},playSelected(){this.$emit("playSelected",!1)},clearQueue(){this.$emit("clearQueue")},deletePlaylist(){this.$emit("deletePlaylist")},closeAddToMenu(){this.showingAddToMenu=!1},registerKeydown(e){18===e.keyCode&&(this.altPressed=!0)},registerKeyup(e){18===e.keyCode&&(this.altPressed=!1)}},mounted(){window.addEventListener("keydown",this.registerKeydown),window.addEventListener("keyup",this.registerKeyup)},destroyed(){window.removeEventListener("keydown",this.registerKeydown),window.removeEventListener("keyup",this.registerKeyup)}}),y=(n("aOJJ"),Object(m.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"song-list-controls"},[n("btn-group",{attrs:{uppercased:""}},[e.fullConfig.play?[e.altPressed?[e.selectedSongs.length<2&&e.songs.length?n("btn",{staticClass:"btn-play-all",attrs:{orange:"",title:"Play all songs"},on:{click:function(t){return t.preventDefault(),e.playAll(t)}}},[n("i",{staticClass:"fa fa-play"}),e._v(" All\n        ")]):e._e(),e._v(" "),e.selectedSongs.length>1?n("btn",{staticClass:"btn-play-selected",attrs:{orange:"",title:"Play selected songs"},on:{click:function(t){return t.preventDefault(),e.playSelected(t)}}},[n("i",{staticClass:"fa fa-play"}),e._v(" Selected\n        ")]):e._e()]:[e.selectedSongs.length<2&&e.songs.length?n("btn",{staticClass:"btn-shuffle-all",attrs:{orange:"",title:"Shuffle all songs"},on:{click:function(t){return t.preventDefault(),e.shuffle(t)}}},[n("i",{staticClass:"fa fa-random"}),e._v(" All\n        ")]):e._e(),e._v(" "),e.selectedSongs.length>1?n("btn",{staticClass:"btn-shuffle-selected",attrs:{orange:"",title:"Shuffle selected songs"},on:{click:function(t){return t.preventDefault(),e.shuffleSelected(t)}}},[n("i",{staticClass:"fa fa-random"}),e._v(" Selected\n        ")]):e._e()]]:e._e(),e._v(" "),e.selectedSongs.length?n("btn",{staticClass:"btn-add-to",attrs:{title:e.showingAddToMenu?"Cancel":"Add selected songs to…",green:""},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.showingAddToMenu=!e.showingAddToMenu}}},[e._v("\n      "+e._s(e.showingAddToMenu?"Cancel":"Add To…")+"\n    ")]):e._e(),e._v(" "),e.showClearQueueButton?n("btn",{staticClass:"btn-clear-queue",attrs:{red:"",title:"Clear current queue"},on:{click:function(t){return t.preventDefault(),e.clearQueue(t)}}},[e._v("\n      Clear\n    ")]):e._e(),e._v(" "),e.showDeletePlaylistButton?n("btn",{staticClass:"del btn-delete-playlist",attrs:{red:"",title:"Delete this playlist"},on:{click:function(t){return t.preventDefault(),e.deletePlaylist(t)}}},[n("i",{staticClass:"fa fa-times"}),e._v(" Playlist\n    ")]):e._e()],2),e._v(" "),n("add-to-menu",{directives:[{name:"koel-clickaway",rawName:"v-koel-clickaway",value:e.closeAddToMenu,expression:"closeAddToMenu"}],attrs:{config:e.fullConfig.addTo,songs:e.selectedSongs,showing:e.showingAddToMenu},on:{closing:e.closeAddToMenu}})],1)}),[],!1,null,"a104e1bc",null).exports),w=s.a.extend({props:{showingControls:{type:Boolean,default:!0}},data:()=>({isPhone:i.a.phone}),methods:{toggleControls(){this.$emit("toggleControls")}}}),b=(n("Rs3m"),Object(m.a)(w,(function(){var e=this.$createElement,t=this._self._c||e;return this.isPhone?t("span",{staticClass:"song-list-controls-toggler",on:{click:this.toggleControls}},[this.showingControls?t("i",{staticClass:"fa fa-angle-up toggler"}):t("i",{staticClass:"fa fa-angle-down toggler"})]):this._e()}),[],!1,null,"264eb1d0",null).exports);t.a=s.a.extend({components:{SongList:f,SongListControls:y,ControlsToggler:b},data:()=>({state:null,meta:{songCount:0,totalLength:"00:00"},selectedSongs:[],showingControls:!1,songListControlConfig:{},isPhone:i.a.phone}),methods:{playAll(e){r.g.queueAndPlay(this.getSongsToPlay(),e)},playSelected(e){r.g.queueAndPlay(this.selectedSongs,e)},toggleControls(){this.showingControls=!this.showingControls},getSongsToPlay:()=>{throw new Error("Method not implemented")}},created(){a.f.on({[l.b.UPDATE_META]:(e,t)=>{t===this&&Object.assign(this.meta,e)},[l.b.SET_SELECTED_SONGS]:(e,t)=>{t===this&&(this.selectedSongs=e)}})}})},"hn+m":function(e,t,n){"use strict";var s=n("o+Cl");n.n(s).a},ipEo:function(e,t,n){"use strict";var s=n("BGT2");n.n(s).a},mF3K:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n("JspL");function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.a.extend({mixins:e})}},nJEG:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"#favoritesWrapper .none {\n  color: #a0a0a0;\n  padding: 16px 24px;\n}\n#favoritesWrapper .none a {\n  color: #ff7d2e;\n}",""])},"o+Cl":function(e,t,n){var s=n("ZcGz");"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(s,o);s.locals&&(e.exports=s.locals)},qEoS:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"#albumsWrapper .albums {\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\n}\n#albumsWrapper .albums.as-list {\n  grid-gap: 8px;\n  align-content: start;\n}\n#albumsWrapper .albums.as-thumbnails .item {\n  max-width: 256px;\n}\n@media only screen and (max-width: 768px) {\n#albumsWrapper .albums.as-thumbnails .item {\n    max-width: 100%;\n}\n}",""])},tVMj:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,".toggler[data-v-264eb1d0] {\n  font-size: 1rem;\n  margin-left: 4px;\n  color: #ff7d2e;\n}",""])},vkUh:function(e,t,n){var s=n("qEoS");"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(s,o);s.locals&&(e.exports=s.locals)},wgL7:function(e,t,n){var s=n("19Qe");"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(s,o);s.locals&&(e.exports=s.locals)},yiWW:function(e,t,n){var s=n("JYgK");"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(s,o);s.locals&&(e.exports=s.locals)}}]);