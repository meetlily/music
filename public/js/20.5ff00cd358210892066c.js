(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"1VRp":function(n,t,a){var e=a("nBL4");"string"==typeof e&&(e=[[n.i,e,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(e,s);e.locals&&(n.exports=e.locals)},GAxC:function(n,t,a){"use strict";var e=a("1VRp");a.n(e).a},axj1:function(n,t,a){"use strict";var e=a("JspL"),s=a("ilaN");t.a=e.a.extend({props:{album:{type:Object,required:!0}},computed:{length(){return this.album.songs.reduce((n,t)=>n+t.length,0)},fmtLength(){return Object(s.w)(this.length)}}})},fnsJ:function(n,t,a){"use strict";a.r(t);var e=a("mF3K"),s=a("ilaN"),i=a("c8RX"),o=a("OUsP"),l=a("2Bgu"),r=a("f4RB"),p=a("axj1"),d=function(n,t,a,e){return new(a||(a=Promise))((function(s,i){function o(n){try{r(e.next(n))}catch(n){i(n)}}function l(n){try{r(e.throw(n))}catch(n){i(n)}}function r(n){var t;n.done?s(n.value):(t=n.value,t instanceof a?t:new a((function(n){n(t)}))).then(o,l)}r((e=e.apply(n,t||[])).next())}))},u=Object(e.a)(r.a,p.a).extend({components:{AlbumInfo:()=>a.e(6).then(a.bind(null,"kNsj")),SoundBar:()=>a.e(1).then(a.bind(null,"yt5i")),AlbumThumbnail:()=>a.e(2).then(a.bind(null,"A9fp"))},filters:{pluralize:s.v},data:()=>({sharedState:i.j.state,meta:{showing:!1,loading:!0}}),computed:{isNormalArtist(){return!i.b.isVariousArtists(this.album.artist)&&!i.b.isUnknownArtist(this.album.artist)}},watch:{"album.songs.length":n=>{n||l.a.go("albums")},album(){this.meta.showing=!1,this.$refs.songList&&this.$refs.songList.sort()}},methods:{getSongsToPlay(){return this.$refs.songList.getAllSongsWithSort()},download(){o.d.fromAlbum(this.album)},showInfo(){return d(this,void 0,void 0,(function*(){if(this.meta.showing=!0,this.album.info)this.meta.loading=!1;else try{yield o.a.fetch(this.album)}catch(n){console.error(n)}finally{this.meta.loading=!1}}))}}}),h=(a("GAxC"),a("KHd+")),c=Object(h.a)(u,(function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("section",{attrs:{id:"albumWrapper"}},[a("h1",{staticClass:"heading"},[a("span",{staticClass:"overview"},[a("span",{staticClass:"thumbnail-wrapper"},[a("album-thumbnail",{attrs:{entity:n.album}})],1),n._v("\n\n      "+n._s(n.album.name)+"\n      "),a("controls-toggler",{attrs:{"showing-controls":n.showingControls},on:{toggleControls:n.toggleControls}}),n._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.album.songs.length,expression:"album.songs.length"}],staticClass:"meta"},[n._v("\n        by\n        "),n.isNormalArtist?a("a",{staticClass:"artist",attrs:{href:"#!/artist/"+n.album.artist.id}},[n._v(n._s(n.album.artist.name))]):a("span",{staticClass:"nope"},[n._v(n._s(n.album.artist.name))]),n._v("\n        •\n        "+n._s(n._f("pluralize")(n.album.songs.length,"song"))+"\n        •\n        "+n._s(n.fmtLength)+"\n\n        "),n.sharedState.useLastfm?[n._v("\n          •\n          "),a("a",{staticClass:"info",attrs:{href:"",title:"View album's extra information"},on:{click:function(t){return t.preventDefault(),n.showInfo(t)}}},[n._v("Info")])]:n._e(),n._v(" "),n.sharedState.allowDownload?[n._v("\n          •\n          "),a("a",{staticClass:"download",attrs:{href:"",title:"Download all songs in album",role:"button"},on:{click:function(t){return t.preventDefault(),n.download(t)}}},[n._v("\n            Download All\n          ")])]:n._e()],2)],1),n._v(" "),a("song-list-controls",{directives:[{name:"show",rawName:"v-show",value:n.album.songs.length&&(!n.isPhone||n.showingControls),expression:"album.songs.length && (!isPhone || showingControls)"}],attrs:{songs:n.album.songs,config:n.songListControlConfig,selectedSongs:n.selectedSongs},on:{playAll:n.playAll,playSelected:n.playSelected}})],1),n._v(" "),a("song-list",{ref:"songList",attrs:{items:n.album.songs,type:"album"}}),n._v(" "),n.sharedState.useLastfm&&n.meta.showing?a("section",{staticClass:"info-wrapper"},[a("a",{staticClass:"close",attrs:{href:""},on:{click:function(t){t.preventDefault(),n.meta.showing=!1}}},[a("i",{staticClass:"fa fa-times"})]),n._v(" "),a("div",{staticClass:"inner"},[n.meta.loading?a("div",{staticClass:"loading"},[a("sound-bar")],1):a("album-info",{attrs:{album:n.album,mode:"full"}})],1)]):n._e()],1)}),[],!1,null,"502bfdee",null);t.default=c.exports},nBL4:function(n,t,a){(n.exports=a("I1BE")(!1)).push([n.i,"#albumWrapper button.play-shuffle i[data-v-502bfdee] {\n  margin-right: 0 !important;\n}\n#albumWrapper .heading .overview[data-v-502bfdee] {\n  position: relative;\n  padding-left: 84px;\n}\n#albumWrapper .heading .overview .thumbnail-wrapper[data-v-502bfdee] {\n  display: block;\n  width: 64px;\n  position: absolute;\n  left: 0;\n}\n@media only screen and (max-width: 768px) {\n#albumWrapper .heading .overview .thumbnail-wrapper[data-v-502bfdee] {\n    display: none;\n}\n}\n@media only screen and (max-width: 768px) {\n#albumWrapper .heading .overview[data-v-502bfdee] {\n    padding-left: 0;\n}\n}\n#albumWrapper .heading a.artist[data-v-502bfdee] {\n  color: #fff;\n  display: inline;\n}\n#albumWrapper .heading a.artist[data-v-502bfdee]:hover {\n  color: #ff7d2e;\n}\n#albumWrapper .loading[data-v-502bfdee] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n}\n#albumWrapper .info-wrapper[data-v-502bfdee] {\n  color: #a0a0a0;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: #181818;\n  width: 100%;\n  height: 100%;\n  z-index: 2;\n}\n#albumWrapper .info-wrapper .close[data-v-502bfdee] {\n  position: absolute;\n  right: 0;\n  top: 0;\n  background: #c34848;\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n  text-align: center;\n  color: #fff;\n  transition: opacity 0.3s;\n  opacity: 0;\n}\nhtml.touchevents #albumWrapper .info-wrapper .close[data-v-502bfdee] {\n  opacity: 1;\n}\n#albumWrapper .info-wrapper:hover .close[data-v-502bfdee] {\n  opacity: 1;\n}\n#albumWrapper .info-wrapper .inner[data-v-502bfdee] {\n  padding: 24px;\n  overflow: auto;\n  height: 100%;\n  padding-bottom: 48px;\n}\n@media only screen and (max-width: 768px) {\n#albumWrapper .info-wrapper .inner[data-v-502bfdee] {\n    padding: 16px;\n}\n}",""])}}]);